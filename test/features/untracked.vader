Include: ./helpers/setup.vader

Execute (create untracked file 'foo'):
  call system('touch foo')

Expect (foo to be untracked file):
  ## master
  ?? foo

Do (toggle stage on foo):
  j-

Expect (foo to be added file in the index):
  ## master
  A  foo

Do (toggle stage on foo):
  j-

Expect (foo to be added file in the index):
  ## master
  ?? foo

Do (toggle stage on foo):
  j-

Execute (modify foo):
  new foo
  normal itest
  write

Expect (foo to be added in the index and modified in working tree):
  ## master
  AM foo

Do (toggle stage on foo):
  j-

Expect (modifications to be staged):
  ## master
  A  foo

Execute (delete foo):
  call system('rm foo')

Expect (foo to be added in the index and deleted in working tree):
  ## master
  AD foo

Do (toggle stage on foo):
  j-

Expect (foo to be removed from the index and working tree):
  ## master


Include: ./helpers/cleanup.vader
